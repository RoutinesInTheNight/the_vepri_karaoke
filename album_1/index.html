<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Lyrics Sync Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #111;
            color: #777;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        audio {
            margin-top: 20px;
        }

        .lyrics-container {
            position: relative;
            overflow: hidden;
            height: 200px;
            width: 80%;
            margin-top: 40px;
            text-align: center;
        }

        .lyrics {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            transform: translateY(-50%);
            transition: transform 0.5s ease;
        }

        .line {
            line-height: 2em;
            transition: color 0.3s;
        }

        .active {
            color: #fff;
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>

<body>
    <h1>üéµ Simple Lyrics Player</h1>
    <audio id="audio" controls>
        <source src="wwwww.mp3" type="audio/mpeg">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
    </audio>

    <div class="lyrics-container">
        <div class="lyrics" id="lyrics"></div>
    </div>

    <script>
        // –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ SRT
        const srtData = `
1
00:00:05,000 --> 00:00:08,000
–≠—Ç–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞

2
00:00:08,000 --> 00:00:12,000
–≠—Ç–æ –≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞

3
00:00:12,000 --> 00:00:16,000
–ê —ç—Ç–æ —Ç—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞
`;

        function parseSRT(data) {
            return data.trim().split(/\n\n+/).map(block => {
                const [id, time, ...textLines] = block.split("\n");
                const [start, end] = time.split(" --> ").map(t => toSeconds(t));
                return { start, end, text: textLines.join("\n") };
            });
        }

        function toSeconds(time) {
            const [h, m, s] = time.replace(',', '.').split(':');
            return parseFloat(h) * 3600 + parseFloat(m) * 60 + parseFloat(s);
        }

        const lyricsData = parseSRT(srtData);
        const lyricsEl = document.getElementById('lyrics');
        const audio = document.getElementById('audio');

        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        lyricsEl.innerHTML = lyricsData
            .map(line => `<div class="line">${line.text}</div>`)
            .join('');

        const lines = Array.from(document.querySelectorAll('.line'));

        audio.addEventListener('timeupdate', () => {
            const current = audio.currentTime;
            let activeIndex = lyricsData.findIndex(line => current >= line.start && current < line.end);
            if (activeIndex === -1) return;

            lines.forEach((line, i) => line.classList.toggle('active', i === activeIndex));

            // –°–º–µ—â–∞–µ–º –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É
            const offset = (activeIndex * -2) + 0; // 2em = line-height
            lyricsEl.style.transform = `translateY(calc(-${activeIndex * 2}em + 50%))`;
        });
    </script>
</body>

</html>