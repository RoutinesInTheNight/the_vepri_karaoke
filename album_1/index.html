<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Karaoke timing player</title>
    <style>
        @font-face {
            font-family: 'Sf Pro Display Regular';
            src: url('fonts/SFPRODISPLAYREGULAR.OTF') format('truetype')
        }

        @font-face {
            font-family: 'Sf Pro Display Medium';
            src: url('fonts/SFPRODISPLAYMEDIUM.OTF') format('truetype')
        }

        @font-face {
            font-family: 'Sf Pro Display Bold';
            src: url('fonts/SFPRODISPLAYBOLD.OTF') format('truetype')
        }

        :root {
            --bg: #0f1115;
            --muted: #8b8b8b;
            --accent: #ffffff;

            --body-width: 100vw;
            --vw: calc(var(--body-width) / 100);
        }

        * {
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -webkit-tap-highlight-color: transparent;
            text-decoration: none;
        }

        /* html,
        body {
            height: 100%;
            margin: 0;
            background: linear-gradient(180deg, #081018 0%, #0f1720 100%);
            font-family: 'Sf Pro Display Regular', Arial, sans-serif;
        } */

        html,
        body {
            height: 100%;
            /* background-color: black; */
            background: linear-gradient(180deg, #081018 0%, #0f1720 100%);
            color: white;
            font-family: 'Sf Pro Display Bold', Arial, sans-serif;
            overflow-x: hidden;
            margin: 0 auto;
            padding: 0;
        }

        .app {
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: stretch
        }

        /* Lyrics area */
        .lyrics-wrap {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden
        }

        .lines {
            width: 100%;
            max-width: 90%;
            display: block;
            position: relative;
            /* padding: 0 20px */
        }

        .lines-list {
            list-style: none;
            padding: 0;
            margin: 0;
            position: relative;
            transition: transform 1000ms cubic-bezier(.2, .9, .3, 1)
        }

        .lines-list li {
            /* height: 48px; */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            /* line-height: 1.3; */
            /* padding: 0 10px; */
            font-size: calc(100 / 428 * 24 * 1vw);
            margin: calc(100 / 428 * 32 * 1vw) 0 calc(100 / 428 * 32 * 1vw) 0;
            /* color: var(--muted); */
            opacity: 0.25;
            transition: transform .5s, opacity .5s
        }

        .lines-list li.active {
            opacity: 1;
            /* font-size: calc(100 / 428 * 24 * 1vw); */
            /* font-family: 'Sf Pro Display Bold', Arial, sans-serif; */
        }

        /* before play: offset first line slightly down */
        .not-playing .lines-list {
            transform: translateY(30px)
        }




        /* Controls */
        .controls {
            padding: 18px 20px;
            background: rgba(255, 255, 255, 0.02);
            border-top: 1px solid rgba(255, 255, 255, 0.03);
            display: flex;
            flex-direction: column;
            gap: 12px
        }

        .timeline-row {
            display: flex;
            align-items: center;
            gap: 12px
        }

        .time-left,
        .time-right {
            width: 60px;
            text-align: center;
            font-variant-numeric: tabular-nums;
            color: var(--muted);
            font-size: 14px
        }

        .timeline {
            flex: 1;
            height: 12px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.04);
            position: relative;
            cursor: pointer
        }

        .progress {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0%;
            border-radius: 8px;
            background: linear-gradient(90deg, #74b47e, #2fb66b)
        }

        .btn-row {
            display: flex;
            align-items: center;
            justify-content: center
        }

        .play-btn {
            width: 64px;
            height: 64px;
            border-radius: 999px;
            background: linear-gradient(180deg, #294c34, #1b2f23);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.05)
        }

        .play-btn svg {
            width: 28px;
            height: 28px;
            fill: #fff
        }

        /* small screens tweaks */
        /* @media (max-width:520px) {
            .lines-list li {
                font-size: 18px;
                height: 44px
            }

            .time-left,
            .time-right {
                width: 48px;
                font-size: 12px
            }
        } */

        #lines li.gap {
            height: 20px;
            /* можно регулировать */
            background: #555;
            /* серый фон */
            position: relative;
            overflow: hidden;
            margin: 8px 0;
            border-radius: 4px;
        }

        #lines li.gap::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0%;
            background: white;
            transition: width linear;
            /* анимация заполнения */
        }

        #lines li.gap .fill {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: white;
        }
    </style>
</head>

<body>
    <div class="app not-playing" id="app">

        <div class="lyrics-wrap">
            <div class="lines">
                <ul class="lines-list" id="lines"></ul>
            </div>
        </div>

        <div class="controls">
            <div class="timeline-row">
                <div class="time-left" id="current">0:00</div>
                <div class="timeline" id="timeline" title="Seek">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time-right" id="duration">0:00</div>
            </div>

            <div class="btn-row">
                <div class="play-btn" id="playBtn" aria-pressed="false" role="button">
                    <!-- play icon (will toggle) -->
                    <svg viewBox="0 0 24 24" id="playIcon">
                        <path d="M8 5v14l11-7z"></path>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Hidden audio element (song.mp3 must be next to index) -->
        <audio id="audio" preload="metadata" src="song.mp3"></audio>
    </div>

    <script src="scripts.js"></script>
</body>

</html>